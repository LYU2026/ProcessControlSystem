% N型热电偶  “输出热电势-温度”曲线
%反向公式  N: t_90 = d_0 + d_1*E + d_2*E^2 + ... + d_n*E^n,
%         K: t_90 = d_0 + d_1*E + d_2*E^2 + ...  + d_n*E^n,
clear all;
%N型
N_d0=[0.0000000E+00,3.8436847E+01,1.1010485E+00,5.2229312E+00,7.2060525E+00,5.8488586E+00,2.7754916E+00,7.7075166E-01,1.1582665E-01,7.3138868E-03];
N_d1=[0.00000E+00,3.86896E+01,-1.08267E+00,4.70205E-02,-2.12169E-06,-1.17272E-04,5.39280E-06,-7.98156E-08,0.00000E+00,0.00000E+00];
N_d2=[1.972485E+01,3.300943E+01,-3.915159E-01,9.855391E-03,-1.274371E-04,7.767022E-07,0.000000E+00,0.000000E+00,0.000000E+00,0.000000E+00];
%N_t_90_0=-200;0;
E_N_0=-3.990:0.001:0.000;
%E_N_0=0.000;
sum=0;
for i=0:9
    sum=sum+N_d0(i+1).*(E_N_0.^i);
end;    
N_t_90_0=sum;
%N_t_90_0

%E_N_1=0.000:0.001:20.613;
E_N_1=[5.913 12.974 20.613];
sum=0;
for i=0:9
    sum=sum+N_d1(i+1).*(E_N_1.^i);
end;    
N_t_90_1=sum;
N_t_90_1

%E_N_2=20.613:0.001:47.513;
E_N_2=[28.455 36.256 43.846 47.513];
sum=0;
for i=0:9
    sum=sum+N_d2(i+1).*(E_N_2.^i);
end;    
N_t_90_2=sum;
N_t_90_2

E_N_00=-5.891:0.001:-3.990;
E_N_3=47.513:0.001:54.886;
E_N=[E_N_0,E_N_1,E_N_2];
N_t_90=[N_t_90_0,N_t_90_1,N_t_90_2];

%K型

K_d0=[0.0000000E+00,2.5173462E+01,-1.1662878E+00,-1.0833638E+00,-8.9773540E-01,-3.7342377E-01,-8.6632643E-02,-1.0450598E-02,-5.1920577E-04, 0.0000000E+00];
K_d1=[0.000000E+00,2.508355E+01,7.860106E-02,-2.503131E-01,8.315270E-02,-1.228034E-02,9.804036E-04,-4.413030E-05,1.057734E-06,-1.052755E-08];
K_d2=[ -1.318058E+02,4.830222E+01,-1.646031E+00,5.464731E-02,-9.650715E-04,8.802193E-06, -3.110810E-08,0.000000E+00,0.000000E+00,0.000000E+00];
%N_t_90_0=-200;0;
E_K_0=-5.891:0.001:0.000;
sum=0;
for i=0:9
    sum=sum+K_d0(i+1).*(E_K_0.^i);
end;    
K_t_90_0=sum;

E_K_1=0.000:0.001:20.644;
sum=0;
for i=0:9
    sum=sum+K_d1(i+1).*(E_K_1.^i);
end;    
K_t_90_1=sum;

E_K_2=20.644:0.001:54.886;
sum=0;
for i=0:9
    sum=sum+K_d2(i+1).*(E_K_2.^i);
end;    
K_t_90_2=sum;

E_K=[E_K_0,E_K_1,E_K_2];
K_t_90=[K_t_90_0,K_t_90_1,K_t_90_2];


plot(E_N,N_t_90,E_K,K_t_90);

%xlim([-270, 1300]);
xlabel('VOLTAGE(mV)');
ylabel('VOLTAGE OUTPUT TEMPERATURE ( ^oC)');
title({'VOLTAGES OUTPUT TEMPERATURE FOR';' TYPE N and K THERAMOCOUPLES'},'fontsize',12);
% text(0,0,' \leftarrow正弦');

% legend('type N','type K');
grid on;
gtext('type N \leftarrow');
gtext(' \leftarrow type K');
